<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<VBox xmlns="http://javafx.com/javafx/25"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.memorygame.client.controller.LobbyController"
      alignment="TOP_CENTER"
      spacing="35"
      style="-fx-background-color: #f0f2f5; -fx-padding: 50 40 40 40; -fx-font-family: 'Roboto', 'Segoe UI';">

    <!-- CARD CHÍNH -->
    <VBox spacing="30" maxWidth="900" alignment="TOP_CENTER"
          style="-fx-background-color: white; 
                 -fx-background-radius: 20; 
                 -fx-padding: 40;
                 -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 20, 0, 0, 10);">

        <!-- TIÊU ĐỀ -->
        <Label text="Sảnh Chờ Thách Đấu"
               style="-fx-font-size: 32px; -fx-font-weight: 800; -fx-text-fill: #1f2937;"/>

        <!-- THANH TÌM KIẾM + NÚT -->
        <HBox alignment="CENTER" spacing="15" maxWidth="750">
            <TextField fx:id="txtSearch"
                       promptText="Tìm kiếm người chơi theo tên..."
                       prefWidth="480"
                       style="-fx-background-radius: 16; 
                              -fx-border-radius: 16;
                              -fx-border-color: #d1d5db; 
                              -fx-border-width: 1; 
                              -fx-font-size: 16px;
                              -fx-padding: 14 20; 
                              -fx-background-color: #f9fafb;"/>
            
            <!-- NÚT TÌM KIẾM -->
            <Button text="Tìm"
                    onAction="#handleSearchButton"
                    prefWidth="120"
                    style="-fx-background-color: #e0f2fe; 
                           -fx-text-fill: #0c4a6e;
                           -fx-font-size: 16px; 
                           -fx-font-weight: 600; 
                           -fx-background-radius: 16;
                           -fx-padding: 12 0;
                           -fx-cursor: hand;
                           -fx-effect: dropshadow(gaussian, rgba(12,74,110,0.15), 8, 0, 0, 2);">
                <tooltip><Tooltip text="Tìm kiếm người chơi" /></tooltip>
            </Button>

            <!-- NÚT ĐỔI MỚI -->
            <Button text="Đổi mới"
                    onAction="#reloadListPlayer"
                    prefWidth="120"
                    style="-fx-background-color: #7c3aed; 
                           -fx-text-fill: white; 
                           -fx-font-size: 16px;
                           -fx-font-weight: 600;
                           -fx-background-radius: 16;
                           -fx-padding: 12 0;
                           -fx-cursor: hand;
                           -fx-effect: dropshadow(gaussian, rgba(124,58,237,0.3), 10, 0, 0, 3);">
                <tooltip><Tooltip text="Làm mới danh sách" /></tooltip>
            </Button>
        </HBox>

        <!-- BẢNG NGƯỜI CHƠI -->
        <TableView fx:id="tblPlayers"
                   prefHeight="420"
                   maxWidth="750"
                   style="-fx-background-color: white;
                          -fx-background-radius: 18;
                          -fx-border-color: #e2e8f0;
                          -fx-border-width: 1;
                          -fx-border-radius: 18;
                          -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.12), 18, 0, 0, 6);">
            <columns>
                <TableColumn fx:id="colName" text="Tên người chơi" prefWidth="300"
                             style="-fx-font-size: 15px; -fx-alignment: CENTER;"/>
                <TableColumn fx:id="colWins" text="Trận thắng" prefWidth="150"
                             style="-fx-font-size: 15px; -fx-alignment: CENTER;"/>
                <TableColumn fx:id="colAction" text="Hành động" prefWidth="150"
                             style="-fx-font-size: 15px; -fx-alignment: CENTER;"/>
            </columns>
            <columnResizePolicy>
                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
            </columnResizePolicy>
        </TableView>

        <!-- NÚT QUAY LẠI -->
       <Button text="↩ Quay Lại"
              onAction="#backToMenu"
              style="-fx-background-color: #9ca3af; 
                     -fx-text-fill: white; 
                     -fx-font-size: 16px; 
                     -fx-font-weight: 600; 
                     -fx-background-radius: 12; 
                     -fx-padding: 10 25; 
                     -fx-cursor: hand;"/>
    </VBox>
</VBox>